---
title: "S2S Lab 2 Task Solutions"
output:
  pdf_document:
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(PASWR2)
```

# Welcome!

# Packages

# Data Structures

## Arrays

## Matrices

### Creating Matrices {-}

**Use the `array()` function and the `letters` vector to create a 5 $\times$ 5 matrix containing the letters of the alphabet in column-major order, up to "y".**

```{r matans1, webex.hide="Solution"}
array(data = letters, dim = c(5, 5))
```

**Create a 5 $\times$ 5 matrix containing the first 25 letters of the alphabet using `matrix()`. Fill in the elements in row-major order.**

```{r matans2}
matrix(data = letters, nrow = 5, ncol = 5, byrow = TRUE)
```

Here, we have to use both `nrow =` and `ncol =` to force the matrix to be 5 $\times$ 5. Since there are 26 letters in the alphabet, `matrix()` will first try to repeat them so that they are all included if only one of the number of rows or columns is specified (e.g. resulting in 6 columns if only 5 rows is specified), rather than leaving letters out.

This is why we also see the warning telling us that the length of `letters` is not a multiple of 5.

### Naming rows and columns {-}

```{r mat7, echo=FALSE}
data <- c(5033, 4899, 4683, 6852, 6548, 6553, 2402, 2337, 2260, 1493, 1488, 1417)

births <- matrix(data = data, nrow = 4, byrow = TRUE)

cities <- c("Edinburgh", "Glasgow", "Aberdeen", "Dundee")
years <- c("2017", "2018", "2019")

dimnames(births) <- list(cities, years)
births
```

**What is the code you would use to show the number of births in Glasgow in all 3 years?**

There are several ways we could extract the data for these years. For example, we can specify that we want the row relating to Glasgow using either `"Glasgow"` or simply `2`.

To tell R that we want to see 2017, 2018 and 2019, we can simply leave the column entry blank (make sure to still have a comma between rows and columns within the square brackets i.e. `["Glasgow", ]`). R will then just return the entire row relating to Glasgow.

Alternatively, you could specify columns 1 to 3 using `1:3` or `c(1, 2, 3)`, or you could use the column names; `c("2017", "2018", "2019")`.

That is, any of the following lines of code can be used to show the number of births in Glasgow.

```{r matans3.1, eval=FALSE}
births["Glasgow", ]
births[2, ]
births["Glasgow", 1:3]
births[2, 1:3]
births["Glasgow", c(1, 2, 3)]
births[2, c(1, 2, 3)]
births["Glasgow", c("2017", "2018", "2019")]
births[2, c("2017", "2018", "2019")]
```

```{r matans3.2, echo=FALSE}
births["Glasgow", ]
```

### Dimension reduction

### Calculating Statistics

**What is the standard deviation for the number of births in 2019?**

We can calculate the standard deviation in all three years using the `apply()` function. Because we want to find the standard deviation in each column, we need to set `MARGIN = 2`. The `FUN`ction we should use is `sd`. That is;

```{r matans4}
apply(X = births, MARGIN = 2, FUN = sd)
```

It is then easy to see that the standard deviation for 2019 is `r round(apply(X = births, MARGIN = 2, FUN = sd)[3], 3)`.

### Vector/Matric Multiplication {-}

\newpage
## Factors

```{r surveysetup, echo=FALSE}
survey <- c("Agree", "Agree", "Agree", "Unsure", "Disgaree")
students <- c("Student 1", "Student 2", "Student 3", "Student 4", "Student 5")

survey.table <- cbind(students, survey)
colnames(survey.table) <- c("Student", "Answer")
```

**The results from a survey asking students whether statistics is the best subject are shown below. They were given a choice of "Agree", "Disagree" and "Unsure".**

```{r survey-table, echo=FALSE}
kable(survey.table)
```

**Create and print a factor, called `survey`, which contains the answers of these five students as well as the levels of response they could have given.**

There are several ways you could create this factor. Here, we first store the answers given in the vector `answers` and use the encoding `1`="Agree", `2`="Disagree" and `3`="Unsure" (to save on typing!).

```{r factans1.1}
answers <- c(1, 1, 1, 3, 2)
```

Then we can create the factor `survey` using the `factor()` function.

```{r factans1.2}
survey <- factor(x = answers, levels = 1:3, labels = c("Agree", "Disagree", "Unsure"))
survey
```

## Data frames

```{r df1}
percentage <- c(84, 76, 90, 53, 6, 67)
grade <- c("A", "A", "A", "C", "H", "B")
pass <- c(TRUE, TRUE, TRUE, TRUE, FALSE, TRUE)
ids <- c("ST002", "ST014", "ST089", "ST060", "ST034", "ST056")

performance <- data.frame(percentage, grade, pass,
                          stringsAsFactors = TRUE, row.names = ids)
```

**Write code to extract only the percentage and the associated grade for the student with ID `ST014`?**

There are many different ways we could specify the elements we want to extract. Any of the following lines of code will return the same output.

```{r dfans1.1, eval=FALSE}
performance["ST014", c("percentage", "grade")]
performance["ST014", c(1, 2)]
performance["ST014", 1:2]
performance["ST014", -3]
performance[2, c("percentage", "grade")]
performance[2, c(1, 2)]
performance[2, 1:2]
performance[2, -3]
```

```{r dfans1.2, echo=FALSE}
performance["ST014", c("percentage", "grade")]
```

**The package `PASWR2` contains a data set called `WAIT`. What do the wait times saved in this data set relate to?**

To find out more about what information a data set contains, we can use the `help()` function. Here, running the following code in R tells us that the wait times in `WAIT` are how long a statistician has had to wait for the bus each morning.

```{r dfans2.2, eval=FALSE}
help("WAIT")
```

**Write code to first view the top 5 rows of the data frame `WAIT` and then load it into your Environment.**

To view the top 5 rows, we use the `head()` function and specify how many rows we want to see using the argument `n = 5`.

```{r dfans2.3}
head(WAIT, n = 5)
```

To then load the data frame into our **Environment** tab, we use the function `data()`.

```{r dfans2.4}
data("WAIT")
```

## Lists
